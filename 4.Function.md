# bC编程语言
## 函数语法

### 函数调用
可以使用以下方法来调用一个函数：

函数调用表达式 ::= <函数名> "(" <实际参数列表> ")" [末尾匿名函数参数]
实际参数列表 ::= <实际参数> [ "," <实际参数列表>]

函数调用的返回值即使是void，其也具有一个void类型的返回值，比如f()函数返回为void，则其具有以下返回值：

~~~cb
y = f()
~~~

y为空，其类型为void。

对于f : i32(i32,f32,i32)类型的函数，我们可以使用以下方式调用：

~~~cb
y = f(0,0.0,0);
~~~

如果函数最后一个参数为一个匿名函数，则我们可以将lambda表达式拿到外边作为末尾匿名函数参数：

~~~cb
y = f()
{
    //函数体
}
~~~

### 定义函数
我们可以使用以下语法产生一个可以被调用的函数：

~~~bnf
函数定义 ::= <函数名> [":" <返回值类型>] (<返回值表达式> ";" | <函数体>)
函数体 ::= "{" [形式参数列表] "->" {语句} "}"
形式参数列表 ::= <形式参数>["," <形式参数列表>]
形式参数 ::= <参数名> [":" <类型>]
~~~

函数定义所产生的函数的类型写法参见【类型系统】一章。

### 定义匿名函数
我们可以使用以下语法产生一个匿名函数：

匿名函数定义 ::= [返回值类型] <函数体>

比如我们可以在调用类型为i32(i32,i32(i32))的f函数时使用以下两种写法：

~~~cb
result = f(
    15,
    {i ->
        i + 100;
    }
);
~~~

~~~cb
result = f(15)
{i ->
    i + 100;
}
~~~

当然我们推荐后一种写法。


### 函数的返回值
一个函数必须拥有返回值，包括void型返回值的函数。

~~~bnf
返回值 ::= ["ret"] <表达式>
~~~

如果返回值写在函数最后一行则可省略ret，否则必须写上ret表示返回。
